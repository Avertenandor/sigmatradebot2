# Application
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Telegram Bot
BOT_TOKEN=your_bot_token_here
TELEGRAM_BOT_TOKEN=your_bot_token_here  # Alias for BOT_TOKEN (deprecated)
TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook
TELEGRAM_WEBHOOK_SECRET=random_secret_string  # Min 16 chars! Generate: openssl rand -hex 16

# Database (PostgreSQL)
DB_HOST=localhost
DB_PORT=5432
DB_USER=botuser
DB_USERNAME=botuser  # Alias for DB_USER (deprecated)
DB_PASSWORD=strong_password_here
DB_NAME=sigmatrade
DB_DATABASE=sigmatrade  # Alias for DB_NAME (deprecated)
DB_LOGGING=true
DB_SYNCHRONIZE=false  # NEVER use true in production!

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TLS=false

# Blockchain (BSC via QuickNode)
QUICKNODE_HTTPS_URL=https://your-endpoint.bsc.quiknode.pro/your-api-key/
QUICKNODE_WSS_URL=wss://your-endpoint.bsc.quiknode.pro/your-api-key/
BSC_CHAIN_ID=56
BSC_NETWORK=mainnet  # or testnet

# Smart Contracts
USDT_CONTRACT_ADDRESS=0x55d398326f99059fF775485246999027B3197955  # BSC USDT
SYSTEM_WALLET_ADDRESS=0x...  # Your deposit receiving wallet
SYSTEM_WALLET_PRIVATE_KEY=  # CRITICAL! Use Secret Manager in production
PAYOUT_WALLET_ADDRESS=0x...  # Alias for SYSTEM_WALLET_ADDRESS (deprecated)
PAYOUT_WALLET_PRIVATE_KEY=  # Alias for SYSTEM_WALLET_PRIVATE_KEY (deprecated)

# Deposit Levels (in USDT)
DEPOSIT_LEVEL_1=10
DEPOSIT_LEVEL_2=50
DEPOSIT_LEVEL_3=100
DEPOSIT_LEVEL_4=150
DEPOSIT_LEVEL_5=300

# Referral Commission Rates (as decimals)
REFERRAL_RATE_LEVEL_1=0.03  # 3%
REFERRAL_RATE_LEVEL_2=0.02  # 2%
REFERRAL_RATE_LEVEL_3=0.05  # 5%

# Security
JWT_SECRET=your_jwt_secret_here
FINANCIAL_PASSWORD_BCRYPT_ROUNDS=12
SESSION_SECRET=your_session_secret_here
ENCRYPTION_KEY=  # 64 hex chars (32 bytes) for PII encryption. Generate: openssl rand -hex 32

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000  # 1 minute
RATE_LIMIT_MAX_REQUESTS_PER_USER=30
RATE_LIMIT_MAX_REQUESTS_PER_IP=100
RATE_LIMIT_BAN_DURATION_MS=300000  # 5 minutes

# Blockchain Monitoring
BLOCKCHAIN_START_BLOCK=latest  # or specific block number
BLOCKCHAIN_CONFIRMATION_BLOCKS=12  # Number of blocks to wait for confirmation
BLOCKCHAIN_POLL_INTERVAL_MS=3000  # Fallback polling interval

# Background Jobs
JOB_BLOCKCHAIN_MONITOR_ENABLED=true
JOB_PAYMENT_PROCESSOR_ENABLED=true
JOB_BACKUP_ENABLED=true
JOB_BACKUP_CRON=0 4 * * *  # Daily at 4 AM
JOB_LOG_CLEANUP_CRON=0 3 * * 0  # Weekly on Sunday at 3 AM

# Backup
BACKUP_ENABLED=true
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=90
BACKUP_GIT_REMOTE=origin
BACKUP_GIT_BRANCH=backups/sanitized  # Separate branch for sanitized backups (no secrets)
BACKUP_KEEP_DAYS=3  # Keep daily backups for N days (default: 3 days for 10GB budget)
BACKUP_KEEP_MONTHLY=12  # Keep monthly backups for N months
BACKUP_LOCAL_MAX_GB=2  # Maximum local daily backup size in GB (enforced by disk guard)
GCS_BACKUP_BUCKET=sigmatrade-backups

# Disk Management (for 10GB environments)
DISK_WATERMARK_WARN=75  # Warn threshold (% disk usage) - reduce log verbosity
DISK_WATERMARK_SHED=85  # Load shedding threshold - pause non-critical tasks
DISK_WATERMARK_EMERGENCY=92  # Emergency threshold - aggressive cleanup

# Admin
SUPER_ADMIN_TELEGRAM_ID=123456789  # Your Telegram ID
ADMIN_TELEGRAM_IDS=123456789,987654321  # Comma-separated list of admin Telegram IDs
ADMIN_PANEL_ENABLED=true

# Google Cloud (if deploying to GCP)
GCP_PROJECT_ID=sigmatrade-bot
GCP_REGION=us-central1
GCP_SECRET_MANAGER_ENABLED=false  # Enable in production

# Monitoring & Alerting
PROMETHEUS_PORT=9090  # Port for Prometheus metrics endpoint
HEALTH_CHECK_PORT=3000  # Port for health check endpoints (/healthz, /readyz, /livez)
SENTRY_DSN=  # Optional: Sentry for error tracking
ALERT_EMAIL=admin@sigmatrade.org
ALERT_TELEGRAM_CHAT_ID=  # Chat ID for critical alerts

# Feature Flags
FEATURE_REGISTRATION_ENABLED=true
FEATURE_DEPOSITS_ENABLED=true
FEATURE_WITHDRAWALS_ENABLED=true
FEATURE_REFERRALS_ENABLED=true
FEATURE_ADMIN_PANEL_ENABLED=true

# Development
DEV_SKIP_BLOCKCHAIN_VERIFICATION=false  # ONLY for testing
DEV_MOCK_PAYMENTS=false  # ONLY for testing
DEV_RESET_DB_ON_START=false  # DANGER: Will drop all data!
