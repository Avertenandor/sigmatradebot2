# –ê—É–¥–∏—Ç R2: –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

## –°—Ç–∞—Ç—É—Å: –í –ü–†–û–¶–ï–°–°–ï

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 2025-01-24  
**–†–∞–∑–¥–µ–ª:** R2 - –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å  
**–í—Å–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:** 10

---

## –ú–∞—Ç—Ä–∏—Ü–∞ –ø–æ–∫—Ä—ã—Ç–∏—è R2

| ID | –°—Ü–µ–Ω–∞—Ä–∏–π | –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –¢–µ—Å—Ç—ã | –û—à–∏–±–∫–∏ | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –§–∞–π–ª—ã |
|----|----------|-------------|-------|--------|-------------|-----------|-------|
| R2-1 | –ö–Ω–æ–ø–∫–∞ ¬´üìä –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª / ¬´‚¨Ö –ù–∞–∑–∞–¥¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚úÖ –î–∞ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | `bot/handlers/menu.py:94-126` |
| R2-2 | ¬´‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª ‚Üí settings_keyboard | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –í—ã—Å–æ–∫–∏–π | `bot/handlers/menu.py:343-372` |
| R2-3 | ¬´üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏¬ª (–ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏) | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `bot/handlers/instructions.py:119-166` |
| R2-4 | ¬´üìú –ò—Å—Ç–æ—Ä–∏—è¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –í—ã—Å–æ–∫–∏–π | `bot/handlers/transaction.py:215-324` |
| R2-5 | ¬´üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –í—ã—Å–æ–∫–∏–π | `bot/handlers/menu.py:382-563` |
| R2-6 | ¬´üí≥ –ú–æ–π –∫–æ—à–µ–ª–µ–∫¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `bot/handlers/menu.py:536-563` |
| R2-7 | ¬´üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `bot/handlers/menu.py:720-940` |
| R2-8 | ¬´üìù –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –°—Ä–µ–¥–Ω–∏–π | `bot/handlers/menu.py:942-1029` |
| R2-9 | ¬´‚úÖ –ü—Ä–æ–π—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é¬ª | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚úÖ –î–∞ | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π | `bot/handlers/verification.py:47-220` |
| R2-10 | –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚úÖ –î–∞ | –í—ã—Å–æ–∫–∏–π | `bot/handlers/verification.py:96-187` |

---

## –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º

### ‚úÖ R2-1: –ö–Ω–æ–ø–∫–∞ ¬´üìä –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª / ¬´‚¨Ö –ù–∞–∑–∞–¥¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/menu.py:94-126`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –û—á–∏—â–∞–µ—Ç FSM —Å–æ—Å—Ç–æ—è–Ω–∏–µ (`state.clear()`)
- –ü–æ–¥–≥—Ä—É–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π `blacklist_entry`
- –°—Ç—Ä–æ–∏—Ç `main_menu_reply_keyboard` —Å —É—á—ë—Ç–æ–º admin-—Ñ–ª–∞–≥–∞
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_menu.py::test_main_menu_button_clears_fsm`

---

### ‚úÖ R2-2: ¬´‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª ‚Üí settings_keyboard

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/menu.py:343-372`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥–º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:
  - `üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å`
  - `üí≥ –ú–æ–π –∫–æ—à–µ–ª–µ–∫`
  - `üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π`
  - `üìù –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã`
  - `üìä –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é`

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- ‚ö†Ô∏è –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å—Ç—å fallback, –Ω–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_menu.py::test_settings_menu`
- –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

---

### ‚úÖ R2-3: ¬´üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏¬ª (–ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/instructions.py:119-166`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø—Ä–æ –¥–µ–ø–æ–∑–∏—Ç—ã, —É—Ä–æ–≤–Ω–∏, ROI
- –ö–Ω–æ–ø–∫–∞ ¬´üìä –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∑–∞–¥

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_instructions.py::test_instructions_for_registered_user`

---

### ‚úÖ R2-4: ¬´üìú –ò—Å—Ç–æ—Ä–∏—è¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/transaction.py:215-324`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–∏–ø–∞–º: –¥–µ–ø–æ–∑–∏—Ç—ã, –≤—ã–≤–æ–¥—ã, —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ
- –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ—Ç ‚Üí ¬´–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞¬ª
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_transaction_history.py::test_transaction_history`
- –¢–µ—Å—Ç –¥–ª—è –ø—É—Å—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏
- –¢–µ—Å—Ç –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- –¢–µ—Å—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

---

### ‚úÖ R2-5: ¬´üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/menu.py:382-563`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - –ë–∞–ª–∞–Ω—Å (–¥–æ—Å—Ç—É–ø–Ω—ã–π/–≤ –æ–∂–∏–¥–∞–Ω–∏–∏/–≤—ã–ø–ª–∞—á–µ–Ω–Ω—ã–π)
  - –ê–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–µ–ø–æ–∑–∏—Ç–æ–≤
  - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É
  - –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_profile.py::test_show_profile`

---

### ‚úÖ R2-6: ¬´üí≥ –ú–æ–π –∫–æ—à–µ–ª–µ–∫¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/menu.py:536-563`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞
- –ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–¥—Ä–µ—Å –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–º–µ–Ω—ã –∫–æ—à–µ–ª—å–∫–∞ (—á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–æ–≤)

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- ‚ö†Ô∏è –ù–µ—Ç —è–≤–Ω–æ–≥–æ UI –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å–º–µ–Ω—ã –∫–æ—à–µ–ª—å–∫–∞ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫—É)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_profile.py::test_show_wallet`
- –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å–º–µ–Ω—É –∫–æ—à–µ–ª—å–∫–∞" (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

### ‚úÖ R2-7: ¬´üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/menu.py:720-940`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –¢—Ä–∏ —Ç—É–º–±–ª–µ—Ä–∞ (–¥–µ–ø–æ–∑–∏—Ç—ã, –≤—ã–≤–æ–¥—ã, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥)
- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
- –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_notifications.py::test_notification_settings`
- –¢–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

### ‚úÖ R2-8: ¬´üìù –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/menu.py:942-1029`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –í–≤–æ–¥ –Ω–æ–≤–æ–≥–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞/e-mail
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è email (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_profile.py::test_update_contacts`
- –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å regex –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É)

---

### ‚úÖ R2-9: ¬´‚úÖ –ü—Ä–æ–π—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é¬ª

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/verification.py:47-220`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ï—Å–ª–∏ –µ—â—ë –Ω–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω:
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è
  - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–∞ `is_verified=True`
  - –ü–æ–∫–∞–∑ –ø–∞—Ä–æ–ª—è –æ–¥–∏–Ω —Ä–∞–∑
- –ï—Å–ª–∏ —É–∂–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω:
  - –û—Ç–≤–µ—Ç ¬´–≤—ã —É–∂–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã¬ª

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_verification.py::test_verification_flow`
- –¢–µ—Å—Ç –¥–ª—è —É–∂–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

### ‚úÖ R2-10: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `bot/handlers/verification.py:96-187`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ—Ç–∞–ª–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ rate-limit –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ë–î
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª—è
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

**–ü—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤
- ‚ö†Ô∏è –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ –¢–ó)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç `tests/e2e/test_verification.py::test_verification_errors`
- –¢–µ—Å—Ç –¥–ª—è rate limit
- –¢–µ—Å—Ç –¥–ª—è –æ—à–∏–±–æ–∫ –ë–î
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ R2

**–í—Å–µ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:** 10

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é:** 10 (100%)  
**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ:** 0 (0%)  
**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 0 (0%)

**–° —Ç–µ—Å—Ç–∞–º–∏:** 0 (0%)  
**–ë–µ–∑ —Ç–µ—Å—Ç–æ–≤:** 10 (100%)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–µ–ª—ã:**
- ‚ùå –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ R2

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**
1. **–í—ã—Å–æ–∫–∏–π:** –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ R2 (10 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
2. **–°—Ä–µ–¥–Ω–∏–π:** –£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email –≤ R2-8
3. **–°—Ä–µ–¥–Ω–∏–π:** –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å–º–µ–Ω—ã –∫–æ—à–µ–ª—å–∫–∞ –≤ R2-6 (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–µ

### –í—ã—Å–æ–∫–∏–µ (—Å–ª–µ–¥—É—é—â–∏–µ)

1. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ R2**
   - –§–∞–π–ª: `tests/e2e/test_menu.py`, `tests/e2e/test_profile.py`, `tests/e2e/test_verification.py`
   - –ü–æ–∫—Ä—ã—Ç—å –≤—Å–µ 10 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –°—Ä–µ–¥–Ω–∏–µ (—É–ª—É—á—à–µ–Ω–∏—è)

2. **–£–ª—É—á—à–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email –≤ R2-8**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å regex –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

3. **–î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å–º–µ–Ω—ã –∫–æ—à–µ–ª—å–∫–∞ –≤ R2-6**
   - –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
   - –°–æ–∑–¥–∞—Ç—å FSM –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å–º–µ–Ω—ã –∫–æ—à–µ–ª—å–∫–∞

4. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ R2-10**
   - –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ –¢–ó

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü–µ—Ä–µ–π—Ç–∏ –∫ –∞—É–¥–∏—Ç—É R3 (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–∏–Ω–≤–µ—Å—Ç–æ—Ä)

